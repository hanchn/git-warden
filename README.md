ä»¥ä¸‹æ˜¯ä¸ºä½ çš„ Git æäº¤è§„èŒƒå·¥å…· **Git Warden** é‡èº«å®šåˆ¶çš„ `README.md` å†…å®¹ï¼ŒåŒ…å«ä¸€é”®å®‰è£…ã€ä½¿ç”¨æŒ‡å—ã€è§„åˆ™è¯´æ˜ã€äº¤äº’å¼æäº¤ç¤ºä¾‹ç­‰å†…å®¹ï¼Œéå¸¸é€‚åˆæ”¾å…¥é¡¹ç›®æ ¹ç›®å½•ï¼š

---

## ğŸ›¡ Git Warden æäº¤è§„èŒƒå®ˆå«å·¥å…·

é€šè¿‡ Git é’©å­è‡ªåŠ¨æ ¡éªŒ commit ä¿¡æ¯å’Œåˆ†æ”¯å‘½åï¼Œç¡®ä¿å›¢é˜Ÿåä½œè§„èŒƒç»Ÿä¸€ã€‚æ”¯æŒäº¤äº’å¼æäº¤ã€ä¸€é”®åˆå§‹åŒ–é…ç½®ã€‚

---

### ğŸš€ ä¸€é”®å®‰è£…

```bash
npx husky install
npx husky add .husky/commit-msg "node warden.js"
```

> âœ… ç¡®ä¿é¡¹ç›®æ ¹ç›®å½•å·²æœ‰ `warden.js` å’Œ `.gitlintrc.json` é…ç½®æ–‡ä»¶ã€‚

---

### ğŸ“¦ ä½¿ç”¨æ–¹å¼

#### âœ… å¸¸è§„æäº¤ï¼ˆè‡ªåŠ¨æ ¡éªŒæ ¼å¼ï¼‰

```bash
git commit -m "feat(user): æ–°å¢ç”¨æˆ·æ³¨å†Œæ¥å£"
```

#### âœ… æ¨èæ–¹å¼ï¼šäº¤äº’å¼æäº¤ï¼ˆä¸å†æ‰‹å†™ commitï¼‰

```bash
node warden.js --prompt
git commit
```

---

### ğŸ§© æ”¯æŒçš„æäº¤ç±»å‹ï¼ˆtypeï¼‰

| ç±»å‹         | è¯´æ˜                      |
| ---------- | ----------------------- |
| `feat`     | âœ¨ æ–°åŠŸèƒ½ï¼šæ–°å¢åŠŸèƒ½ã€æ–°é¡µé¢ã€æ–°æ¥å£ç­‰     |
| `fix`      | ğŸ ä¿®å¤ï¼šä¿®å¤ bugã€é€»è¾‘é—®é¢˜ã€æ ·å¼é”™ä½ç­‰ |
| `docs`     | ğŸ“š æ–‡æ¡£ï¼šæ›´æ–°è¯´æ˜æ–‡æ¡£ã€æ³¨é‡Šã€README  |
| `test`     | ğŸ§ª æµ‹è¯•ï¼šæ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ä»£ç          |
| `refactor` | ğŸ”§ é‡æ„ï¼šä¸å½±å“åŠŸèƒ½çš„ä»£ç ä¼˜åŒ–ã€ç»“æ„é‡ç»„   |
| `chore`    | ğŸ”© æ‚åŠ¡ï¼šæ„å»ºé…ç½®ã€ä¾èµ–å‡çº§ã€CI ç­‰    |
| `work`     | ğŸš§ ä¸´æ—¶æäº¤ï¼šä¸­é—´çŠ¶æ€ã€æœªå®Œæˆä»»åŠ¡çš„å ä½æäº¤ |

---

### ğŸ” æ ¡éªŒè§„åˆ™ä¸€è§ˆ

* âœ… commit message æ ¼å¼å¿…é¡»ä¸ºï¼š

  * `type(scope): å†…å®¹è¯´æ˜` æˆ–
  * `type: å†…å®¹è¯´æ˜`

* âŒ ä¸å…è®¸çº¯ç¬¦å·æˆ–ç©ºå†…å®¹ï¼ˆå¦‚ `"!!!"`ã€`""`ï¼‰

* âœ… åˆ†æ”¯å‘½åè§„èŒƒï¼ˆé»˜è®¤ï¼‰ï¼š

  * `master`ã€`test/xxx`ã€`pre/xxx`ã€`dev/xxx`ï¼ˆä¸å…è®¸è£¸ `dev`ï¼‰

* âŒ ç¦æ­¢ä»¥ä¸‹åˆå¹¶æ“ä½œï¼š

  * `test â†’ master`
  * `pre â†’ master`
  * `dev/* â†’ master`

---

### ğŸ›  é…ç½®è¯´æ˜ï¼ˆ`.gitlintrc.json`ï¼‰

ä½ å¯ä»¥è‡ªå®šä¹‰æ ¡éªŒè§„åˆ™ã€å…è®¸çš„ç±»å‹ã€ä¸­æ–‡æç¤ºæ–‡æœ¬ç­‰ã€‚

```json
{
  "forceCommitFormat": true,
  "allowedTypes": ["feat", "fix", "docs", "test", "refactor", "chore", "work"],
  "messages": {
    "emptyCommit": "æäº¤ä¿¡æ¯ä¸èƒ½ä¸ºç©ºæˆ–ä»…ä¸ºç¬¦å·",
    "badFormat": "æäº¤æ ¼å¼é”™è¯¯ï¼Œåº”ä¸º <type>(<scope>): <subject>",
    ...
  }
}
```

---

### âœ… æ¨èæ­é…

* [husky](https://typicode.github.io/husky/)ï¼šGit Hook ç®¡ç†å™¨
* [inquirer](https://www.npmjs.com/package/inquirer)ï¼šäº¤äº’å¼å‘½ä»¤è¡Œ
* [lint-staged](https://github.com/okonet/lint-staged)ï¼šæ­é…ä»£ç æ ¼å¼åŒ–

---


### â¤ï¸ ç¤ºä¾‹æäº¤å‘½ä»¤

```bash
# äº¤äº’å¼æ–¹å¼æ›´å‹å¥½ï¼ˆæ¨èï¼‰
node warden.js --prompt && git commit

# æ‰‹å†™æ–¹å¼ï¼ˆç¡®ä¿æ ¼å¼æ­£ç¡®ï¼‰
git commit -m "fix(api): ä¿®å¤æ¥å£è¿”å›å¼‚å¸¸"
```

---

æ˜¯å¦è¿˜éœ€è¦æˆ‘åŠ ä¸€ä¸ªã€Œé”™è¯¯ç¤ºä¾‹ vs æ­£ç¡®ç¤ºä¾‹ã€çš„ commit å¯¹ç…§è¡¨ï¼Ÿ
